(()=>{"use strict";var e,t={474:(e,t,n)=>{n.r(t)},714:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,c){function i(e){try{s(r.next(e))}catch(e){c(e)}}function o(e){try{s(r.throw(e))}catch(e){c(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}s((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,a,c,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function o(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,o[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(49);t.default=function(){return r(this,void 0,void 0,(function(){var e,t,n;return a(this,(function(r){switch(r.label){case 0:return e=document.querySelector(".createName"),t=document.querySelector(".createColor"),e instanceof HTMLInputElement&&t instanceof HTMLInputElement?(n={name:e.value,color:t.value},[4,c.API.createCar(n)]):[3,2];case 1:r.sent(),e.value="",t.value="#000000",r.label=2;case 2:return[2]}}))}))}},86:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,c){function i(e){try{s(r.next(e))}catch(e){c(e)}}function o(e){try{s(r.throw(e))}catch(e){c(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}s((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,a,c,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function o(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,o[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(49),i=n(997);t.default=function(){return r(this,void 0,void 0,(function(){var e,t,n;return a(this,(function(r){switch(r.label){case 0:for(e=0,t=[];e<100;)n=(0,i.default)(),t.push(n),e+=1;return[4,Promise.all(t.map((function(e){return c.API.createCar(e)})))];case 1:return r.sent(),[2]}}))}))}},971:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,c){function i(e){try{s(r.next(e))}catch(e){c(e)}}function o(e){try{s(r.throw(e))}catch(e){c(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}s((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,a,c,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function o(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,o[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(49),i=n(751);t.default=function(e,t){var n,o;return r(this,void 0,void 0,(function(){var r,s;return a(this,(function(a){switch(a.label){case 0:return[4,c.API.getWinner(e)];case 1:return 200!==(r=a.sent()).status?[3,4]:(null===(n=r.winnerCar)||void 0===n?void 0:n.wins)&&(null===(o=r.winnerCar)||void 0===o?void 0:o.time)&&t?[4,c.API.updateWinner({id:e,wins:r.winnerCar.wins+1,time:Math.min(t,r.winnerCar.time)})]:[3,3];case 2:a.sent(),a.label=3;case 3:return[3,6];case 4:return[4,c.API.createWinner({id:e,wins:1,time:t})];case 5:a.sent(),a.label=6;case 6:return[4,c.API.getCar(e)];case 7:return s=a.sent().garageCar,e in i.winnerList?(i.winnerList[e].wins+=1,i.winnerList[e].time=Math.min(t,i.winnerList[e].time)):s&&(i.winnerList[e]={carColor:s.name,carName:s.name,wins:1,time:t}),[2]}}))}))}},82:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,c){function i(e){try{s(r.next(e))}catch(e){c(e)}}function o(e){try{s(r.throw(e))}catch(e){c(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}s((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,a,c,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function o(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,o[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(49),i=n(751),o=n(1);function s(e){return r(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return delete i.winnerList[e],[4,c.API.deleteWinner(e)];case 1:return t.sent(),(0,o.default)(),[2]}}))}))}t.default=function(e){return r(this,void 0,void 0,(function(){var t,n,r;return a(this,(function(a){switch(a.label){case 0:return e&&(t=e.target)instanceof Element&&(n=t.parentElement)?(r=n.id,[4,c.API.deleteCar(Number(r))]):[3,3];case 1:return a.sent(),[4,s(Number(r))];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}},552:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,c){function i(e){try{s(r.next(e))}catch(e){c(e)}}function o(e){try{s(r.throw(e))}catch(e){c(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}s((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,a,c,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function o(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,o[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(49),i=n(920),o=n(1);t.default=function(e){return r(this,void 0,void 0,(function(){var t,n,s,l,u,d,f,h=this;return a(this,(function(m){switch(m.label){case 0:return(t=e.target)instanceof Element&&(n=t.parentElement)?(s=n.id,[4,c.API.getCar(Number(s))]):[3,2];case 1:(l=m.sent()).garageCar&&((u=document.querySelector(".upgradeColor")).value=l.garageCar.color,(d=document.querySelector(".upgradeName")).value=l.garageCar.name,(f=document.querySelector(".upgrade"))instanceof HTMLButtonElement&&(f.disabled=!1),null==f||f.addEventListener("click",(function(){return r(h,void 0,void 0,(function(){var e,t;return a(this,(function(n){switch(n.label){case 0:return l.garageCar?(l.garageCar.color=u.value,l.garageCar.name=d.value,[4,c.API.updateCar(l.garageCar)]):[3,3];case 1:return n.sent(),[4,(0,o.default)()];case 2:n.sent(),(e=document.querySelector(".car".concat(l.garageCar.id," span")))&&(e.textContent=l.garageCar.name),(t=document.querySelector(".car".concat(l.garageCar.id," .car-img")))&&(t.innerHTML=(0,i.default)(Number(l.garageCar.id),l.garageCar.color)),u.value="#000000",d.value="",f instanceof HTMLButtonElement&&(f.disabled=!0),n.label=3;case 3:return[2]}}))}))}))),m.label=2;case 2:return[2]}}))}))}},1:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,c){function i(e){try{s(r.next(e))}catch(e){c(e)}}function o(e){try{s(r.throw(e))}catch(e){c(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}s((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,a,c,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function o(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,o[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(49),i=n(751);t.default=function(){var e,t;return r(this,void 0,void 0,(function(){var n,r,o,s,l,u;return a(this,(function(a){switch(a.label){case 0:return[4,c.API.getWinners()];case 1:return n=a.sent(),r=[],n.forEach((function(e){(null==e?void 0:e.id)&&r.push(e.id)})),[4,Promise.all(r.map((function(e){return c.API.getCar(e)})))];case 2:for(o=a.sent(),s=0;s<o.length;s+=1)l=null===(e=o[s].garageCar)||void 0===e?void 0:e.color,u=null===(t=o[s].garageCar)||void 0===t?void 0:t.name,l&&u&&(i.winnerList[r[s]]={carColor:l,carName:u,wins:n[s].wins,time:n[s].time});return i.currentWinners.cars=i.winnerList,i.currentWinners.maxPage=Math.ceil(r.length/10),[2]}}))}))}},49:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,c){function i(e){try{s(r.next(e))}catch(e){c(e)}}function o(e){try{s(r.throw(e))}catch(e){c(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}s((r=r.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,r,a,c,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function o(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,o[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.API=void 0;var a="http://127.0.0.1:3000/";t.API={getAllCars:function(e){return n(this,void 0,void 0,(function(){var t,n,c,i;return r(this,(function(r){switch(r.label){case 0:return t="".concat(a,"garage"),e&&(t+="?_limit=".concat(e.limit,"&_page=").concat(e.page)),[4,fetch(t)];case 1:return[4,r.sent().json()];case 2:for(n=r.sent(),c=[],i=0;i<n.length;i+=1)c.push({id:n[i].id,name:n[i].name,color:n[i].color});return[2,c]}}))}))},getCar:function(e){return n(this,void 0,void 0,(function(){var t,n,c,i,o;return r(this,(function(r){switch(r.label){case 0:return t="".concat(a,"garage/").concat(e),[4,fetch(t)];case 1:return[4,(n=r.sent()).json()];case 2:return c=r.sent(),200!==(i=n.status)?[2,{status:i}]:(o={id:c.id,name:c.name,color:c.color},[2,{status:i,garageCar:o}])}}))}))},createCar:function(e){return n(this,void 0,void 0,(function(){var t,n,c,i,o;return r(this,(function(r){switch(r.label){case 0:return t="".concat(a,"garage/"),[4,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})];case 1:return[4,(n=r.sent()).json()];case 2:return c=r.sent(),i=n.status,o={id:c.id,name:c.name,color:c.color},[2,{status:i,garageCar:o}]}}))}))},deleteCar:function(e){return n(this,void 0,void 0,(function(){var t;return r(this,(function(n){switch(n.label){case 0:return t="".concat(a,"garage/").concat(e),[4,fetch(t,{method:"DELETE"})];case 1:return[2,n.sent().status]}}))}))},updateCar:function(e){return n(this,void 0,void 0,(function(){var t,n,c,i,o;return r(this,(function(r){switch(r.label){case 0:return t="".concat(a,"garage/").concat(e.id),[4,fetch(t,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})];case 1:return[4,(n=r.sent()).json()];case 2:return c=r.sent(),200!==(i=n.status)?[2,{status:i}]:(o={id:c.id,name:c.name,color:c.color},[2,{status:i,garageCar:o}])}}))}))},startEngineCar:function(e,t){return n(this,void 0,void 0,(function(){var n,c,i,o;return r(this,(function(r){switch(r.label){case 0:return n="".concat(a,"engine?id=").concat(e,"&status=").concat(t),[4,fetch(n,{method:"PATCH"})];case 1:return c=r.sent(),200!==(i=c.status)?[2,{status:i}]:[4,c.json()];case 2:return o=r.sent(),[2,{status:i,engineCar:{velocity:o.velocity,distance:o.distance}}]}}))}))},driveCar:function(e,t){return void 0===t&&(t="drive"),n(this,void 0,void 0,(function(){var n,c,i,o;return r(this,(function(r){switch(r.label){case 0:return n="".concat(a,"engine?id=").concat(e,"&status=").concat(t),[4,fetch(n,{method:"PATCH"})];case 1:return c=r.sent(),200!==(i=c.status)?[2,{status:i}]:[4,c.json()];case 2:return o=r.sent(),[2,{status:i,success:o.success}]}}))}))},getWinners:function(e){return n(this,void 0,void 0,(function(){var t,n,c,i;return r(this,(function(r){switch(r.label){case 0:return t="".concat(a,"winners"),e&&(t+="?",Object.keys(e).forEach((function(n){t+="&_".concat(n,"=").concat(e[n])}))),[4,fetch(t,{method:"GET"})];case 1:return[4,r.sent().json()];case 2:for(n=r.sent(),c=[],i=0;i<n.length;i+=1)c.push({id:n[i].id,wins:n[i].wins,time:n[i].time});return[2,c]}}))}))},getWinner:function(e){return n(this,void 0,void 0,(function(){var t,n,c,i;return r(this,(function(r){switch(r.label){case 0:return t="".concat(a,"winners/").concat(e),[4,fetch(t)];case 1:return n=r.sent(),200!==(c=n.status)?[2,{status:c}]:[4,n.json()];case 2:return i=r.sent(),[2,{status:c,winnerCar:{id:i.id,wins:i.wins,time:i.time}}]}}))}))},createWinner:function(e){return n(this,void 0,void 0,(function(){var t,n,c,i;return r(this,(function(r){switch(r.label){case 0:return t="".concat(a,"winners"),[4,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})];case 1:return n=r.sent(),200!==(c=n.status)?[2,{status:c}]:[4,n.json()];case 2:return i=r.sent(),[2,{status:c,winnerCar:{id:i.id,wins:i.wins,time:i.time}}]}}))}))},deleteWinner:function(e){return n(this,void 0,void 0,(function(){var t;return r(this,(function(n){switch(n.label){case 0:return t="".concat(a,"winners/").concat(e),[4,fetch(t,{method:"DELETE"})];case 1:return[2,n.sent().status]}}))}))},updateWinner:function(e){return n(this,void 0,void 0,(function(){var t,n,c,i;return r(this,(function(r){switch(r.label){case 0:return t="".concat(a,"winners/").concat(e.id),[4,fetch(t,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({wins:e.wins,time:e.time})})];case 1:return n=r.sent(),200!==(c=n.status)?[2,{status:c}]:[4,n.json()];case 2:return i=r.sent(),[2,{status:c,winnerCar:{id:i.id,wins:i.wins,time:i.time}}]}}))}))}}},751:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.currentWinners=t.winnerList=t.currentRace=t.currentGarage=void 0,t.currentGarage={carsCount:0,page:0},t.currentRace={carsCount:0},t.winnerList={},t.currentWinners={carsCount:0,page:0}},755:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ElementCreator=void 0;var n=function(){function e(e){this.element=this.createElement(e)}return e.prototype.createElement=function(e){var t=this;return this.element=document.createElement(e.tag),e.className&&this.setCssClasses(null==e?void 0:e.className),e.textContent&&this.setTextContent(e.textContent),e.callback&&this.setCallback(e.callback),e.id&&this.setId(e.id),e.attribute&&this.setAttribute(e.attribute),e.children&&e.children.forEach((function(e){t.addInnerElement(e)})),this.element},e.prototype.getElement=function(){return this.element},e.prototype.setCssClasses=function(e){var t=this;e.map((function(e){return t.element.classList.add(e)}))},e.prototype.setTextContent=function(e){void 0===e&&(e=""),this.element.textContent=e},e.prototype.setId=function(e){this.element.id=e},e.prototype.setAttribute=function(e){this.element.setAttribute(e.name,e.value)},e.prototype.setCallback=function(e){"function"==typeof e&&this.element.addEventListener("click",(function(t){return e(t)}))},e.prototype.addInnerElement=function(t){t instanceof e?this.element.append(t.getElement()):this.element.append(t)},e}();t.ElementCreator=n},254:(e,t)=>{function n(e){var t=document.querySelector(".prev-".concat(e.section));t&&(t.disabled=e.prev),document.querySelector(".next-".concat(e.section)).disabled=e.next}Object.defineProperty(t,"__esModule",{value:!0}),t.paginationBtns=void 0,t.default=n,t.paginationBtns=function(e,t){e.maxPage>1?0===e.currentPage?n({prev:!0,next:!1,section:t}):e.currentPage<e.maxPage-1?n({prev:!1,next:!1,section:t}):n({prev:!1,next:!0,section:t}):n({prev:!0,next:!0,section:t})}},997:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=["AUDI","MERSEDES","TOYOTA","CHEVROLET","BMW","LEXUS","FORD","VOLVO","FERRARI","PORSCHE"],r=["Model 1","Model 2","Model 3","Model 4","Model 5","Model 6","Model 7","Model 8","Model 9","Model 10"];t.default=function(){return{name:(e=Math.floor(10*Math.random()),t=Math.floor(10*Math.random()),"".concat(n[e]," ").concat(r[t])),color:"#".concat(Math.floor(16777215*Math.random()).toString(16))};var e,t}},920:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return'<svg class="car-img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 150">\n        <defs>\n            <style>\n                .cls-1,\n                .cls-3 {\n                    fill: #000000;\n                }\n    \n                .cls-1,\n                .cls-4,\n                .cls-5,\n                .cls-6 {\n                    fill-rule: evenodd;\n                }\n    \n                .cls-2,\n                .cls-4 {\n                    fill: #fff7e5;\n                }\n    \n                .cls-5'.concat(e," {\n                    fill:").concat(t,';\n                }\n    \n                .cls-6 {\n                    fill: #f5dec5;\n                }\n            </style>\n        </defs>\n        <g id="Слой_2" data-name="Слой 2">\n            <g id="Objects">\n                <path class="cls-1"\n                    d="M377.51,74.36a24.8,24.8,0,1,1-38,11.14,31.63,31.63,0,0,1,3.78-5.25C350,72.74,368.81,72,377.51,74.36Z" />\n                <circle class="cls-2" cx="362.72" cy="94.28" r="18.08"\n                    transform="translate(-8.47 145.98) rotate(-22.5)" />\n                <circle class="cls-3" cx="362.72" cy="94.28" r="13.16"\n                    transform="translate(-8.47 145.98) rotate(-22.5)" />\n                <path class="cls-4"\n                    d="M362.72,82.66A11.61,11.61,0,0,1,373,88.81a16,16,0,0,0-20.52,0A11.63,11.63,0,0,1,362.72,82.66Z" />\n                <path class="cls-4"\n                    d="M362.72,104a8.13,8.13,0,0,1-7.23-4.72,10.58,10.58,0,0,0,14.47,0A8.14,8.14,0,0,1,362.72,104Z" />\n                <path class="cls-4"\n                    d="M362.72,86A8.25,8.25,0,0,1,370,90.4a11.36,11.36,0,0,0-14.56,0A8.25,8.25,0,0,1,362.72,86Z" />\n                <path class="cls-4"\n                    d="M362.72,101.36A5.77,5.77,0,0,1,357.59,98a7.5,7.5,0,0,0,10.26,0A5.77,5.77,0,0,1,362.72,101.36Z" />\n                <path class="cls-4"\n                    d="M362.72,88.81a5.48,5.48,0,0,1,4.83,2.9,7.53,7.53,0,0,0-9.65,0A5.47,5.47,0,0,1,362.72,88.81Z" />\n                <path class="cls-4"\n                    d="M362.72,99.23a3.82,3.82,0,0,1-3.4-2.23,5,5,0,0,0,6.8,0A3.8,3.8,0,0,1,362.72,99.23Z" />\n                <path class="cls-4"\n                    d="M362.72,91.66a2.62,2.62,0,0,0-2.61,2.62v.18a8.32,8.32,0,0,0,5.22,0,1.09,1.09,0,0,0,0-.18A2.62,2.62,0,0,0,362.72,91.66Z" />\n                <path class="cls-5').concat(e,'"\n                    d="M399.4,53.05c-2.29-15.52-8.59-23.71-29.11-24.15-14.7-.31-61.86,0-88.28.27-6.21-8.79-16-19.32-24.54-24.6S174.79-1.93,142,3.68,41.05,40.32,23.16,71.16c-19.32,18.72-10.45,30,12.64,31.19,4.71.25,18.51.49,37.73.7a28.43,28.43,0,1,1,53.77.48c75.85.55,174.63.91,202,1,2-11.41,5.43-20.23,11.13-26.6,8.53-9.55,34.13-9.56,42-5.74,6.22,3,8.23,9.36,9.73,17.76h.19a17.92,17.92,0,0,0,6.27-.44c3.33-1,2.82-7.35,2.48-15.41-.17-4.08,6-4.08,6-8.17C407.13,60,408.79,54.72,399.4,53.05Z" />\n                <path class="cls-1"\n                    d="M401.22,75.47c3.58-.06,13.43-.06,15.74,2.5s1.6,4.67.06,5.57-1,4.22-.77,5.63a67.35,67.35,0,0,1,1,6.91c.13,2.56-3.32,6.21-8.89,5.44s-8.77-2-11.07-4.93-4.48-5.44-2.05-6.78,5.5-.9,5.82-3.07A55.06,55.06,0,0,0,401.22,75.47Z" />\n                <path class="cls-4"\n                    d="M399.4,53.05C348.5,45,229.07,54.36,223,84.21,229.15,55.45,356.27,49.73,399.4,53.05Z" />\n                <path class="cls-6"\n                    d="M156.93,79.23C148.75,26.1,36,62.06,23.16,71.16,34.89,63.83,147,29.08,156.93,79.23Z" />\n                <path class="cls-4"\n                    d="M333.28,84.42H228.59a1.27,1.27,0,0,0-1.72,1.33h0a1.65,1.65,0,0,0,1.72,1.66H333.28A1.65,1.65,0,0,0,335,85.76h0A1.27,1.27,0,0,0,333.28,84.42Z" />\n                <path class="cls-4"\n                    d="M384.21,33c-49.33-.14-312.86,1.12-359.89,36.3C70.57,31.91,313.15,30.36,384.21,33Z" />\n                <path class="cls-4"\n                    d="M403.65,76.11c2.36-.17,9.34.2,11.77,1.28s2.05,2.18.26,2.82-12,.64-9.54.83,4.16.77,3.78,2.24-5.63,2.11-2.37,2.18,8.13,2.75,7,4.86-7.23,2.82-11.65,2.75-8.44.38-7.36-1.28,6.64-1.88,8.07-2.37c1.68-.57,3.13-2.3.76-2.88s-3.64-1.15-2-2.17,2.82-1.35,1.34-2.43-1.79-3.27-.57-3.84S401.64,76.26,403.65,76.11Z" />\n                <path class="cls-4"\n                    d="M238.39,102.42H145.92a9.81,9.81,0,0,0,3-2h87.29a.73.73,0,0,0,.24.6A10,10,0,0,0,238.39,102.42Z" />\n                <path class="cls-4"\n                    d="M253.31,7.84c4.84.85,7.6,2.17,11.88,6.94s7.62,8.14,10.41,11.72.39,7-5.72,6.8-78.15.86-82.78.87-4.27-4-4.28-7.56.32-13.75.5-15.94.36-4.19,8.32-4.42S243.7,6.15,253.31,7.84Z" />\n                <path class="cls-4"\n                    d="M119.64,20c-16.14,7.18-18.36,21.44,4.13,17.91,6.65-1,45.73-3.63,50.36-3.64s4.24-4,4.23-7.59-.41-13.75-.61-15.95S173.51,7.76,169.23,8C160.58,8.47,129.66,15.5,119.64,20Z" />\n                <path class="cls-4"\n                    d="M258.65,5.66c-81.08-4.59-133-2.26-163.06,26.1C115.18,4,185.71-2.61,258.65,5.66Z" />\n                <path class="cls-4"\n                    d="M180.35,44.23c0,3.33,13.37,1.75,13.37,0S180.35,40.83,180.35,44.23Z" />\n                <path class="cls-1"\n                    d="M100.5,68.64A25.37,25.37,0,1,1,75.13,94,25.37,25.37,0,0,1,100.5,68.64Z" />\n                <circle class="cls-2" cx="100.5" cy="94.01" r="18.49"\n                    transform="translate(-28.33 45.61) rotate(-22.5)" />\n                <path class="cls-1"\n                    d="M100.5,80.55A13.46,13.46,0,1,1,87,94,13.46,13.46,0,0,1,100.5,80.55Z" />\n                <path class="cls-4"\n                    d="M100.5,82.12A11.88,11.88,0,0,1,111,88.42a16.36,16.36,0,0,0-21,0A11.89,11.89,0,0,1,100.5,82.12Z" />\n                <path class="cls-4"\n                    d="M100.5,103.9a8.3,8.3,0,0,1-7.4-4.83,10.82,10.82,0,0,0,14.79,0A8.3,8.3,0,0,1,100.5,103.9Z" />\n                <path class="cls-4"\n                    d="M100.5,85.58a8.43,8.43,0,0,1,7.44,4.47,11.58,11.58,0,0,0-14.89,0A8.43,8.43,0,0,1,100.5,85.58Z" />\n                <path class="cls-4"\n                    d="M100.5,101.25a5.91,5.91,0,0,1-5.25-3.43,7.68,7.68,0,0,0,10.49,0A5.89,5.89,0,0,1,100.5,101.25Z" />\n                <path class="cls-4"\n                    d="M100.5,88.42a5.59,5.59,0,0,1,4.93,3,7.7,7.7,0,0,0-9.87,0A5.6,5.6,0,0,1,100.5,88.42Z" />\n                <path class="cls-4"\n                    d="M100.5,99.07A3.9,3.9,0,0,1,97,96.79a5.08,5.08,0,0,0,7,0A3.92,3.92,0,0,1,100.5,99.07Z" />\n                <path class="cls-4"\n                    d="M100.5,91.34A2.67,2.67,0,0,0,97.82,94a1.21,1.21,0,0,0,0,.19,8.7,8.7,0,0,0,5.34,0V94A2.67,2.67,0,0,0,100.5,91.34Z" />\n                <path class="cls-1"\n                    d="M27.55,88.12c2-.17,3.57,0,4,1.7s-2.5,6.24-5.8,8.21S13.45,99.73,8.9,99.55s-6.16-2.14-6.16-5.8S3.9,88,2.57,86.88-.91,84.56.42,83s3.31-3.93,6.25-4.37c2.68-.41,6.54-.82,10.78-1.15h0a26.2,26.2,0,0,0-4.6,9.06C12.34,88.41,23.27,88,27.55,88.12Z" />\n                <path class="cls-4"\n                    d="M29.27,88.73c1.53.45.87,1.71-.47,1.54s-17.58-.09-20.43,0S3.1,89.2,5.24,87.68s5.36-4.55,2.68-4.46S0,84.38,1.49,82.77s2.77-3.48,7.41-3.93,5.71-.71,4.64,1.43-3.38,4.79-2.14,6.25c1.06,1.26,1.72,2.3,11.53,2A37.68,37.68,0,0,1,29.27,88.73Z" />\n                <path class="cls-4"\n                    d="M153,84.42H128.73a13.79,13.79,0,0,1,1,3H153a1.65,1.65,0,0,0,1.72-1.67h0A1.72,1.72,0,0,0,153,84Zm-82.42,0H35.12a1.27,1.27,0,0,0-1.71,1.33h0a1.65,1.65,0,0,0,1.71,1.67H69.67A13.79,13.79,0,0,1,70.62,84.42Z" />\n                <path class="cls-4"\n                    d="M128.83,102.23l11.34.08c6.13,0,11-2.64,14.51-16.48h0a1.76,1.76,0,0,1-1.32.59H129.5a27.77,27.77,0,0,1-.67,15.81Z" />\n                <path class="cls-1" d="M129.85,88l17.71-.57H129.73Z" />\n                <path class="cls-1"\n                    d="M130.21,90.94l16.39-.52H130.16C130.18,90.6,130.2,90.77,130.21,90.94Z" />\n                <path class="cls-1"\n                    d="M130.33,93.85l13.45-.43H130.34C130.33,93.57,130.33,93.71,130.33,93.85Z" />\n                <path class="cls-1"\n                    d="M130.06,97.77l11.06-.35h-11C130.09,97.54,130.08,97.66,130.06,97.77Z" />\n                <path class="cls-1" d="M129.49,100.68l8.18-.26h-8.12Z" />\n                <path class="cls-6"\n                    d="M271.22,23.17c1.19,1.32,2.34,2.67,3.44,4.07a3.13,3.13,0,0,1,.81,2.71c-.61,1.92-3.94,2.2-5.56,2.16s-3.39,0-5.07,0c-3.19,0-6.39,0-9.58.07q-13.35.12-26.69.3l-27.2.35c-4.75.06-9.52.15-14.27.17a2.87,2.87,0,0,1-2.33-.82c-.93-1.19-.75-4.09-.76-5.55,0-2.5.08-5,.15-7.52l.09-2.56q3.57-.78,7.25-1.41C222.1,9.88,251.09,13.41,271.22,23.17Z" />\n                <path class="cls-4"\n                    d="M176.94,18.28l0,.83c.09,2.5.19,5,.2,7.52,0,.33,0,.66,0,1,0,1.27.08,3.52-.73,4.56a2.84,2.84,0,0,1-2.33.84c-1.13,0-2.28.08-3.41.13-2,.1-4,.21-6,.33q-8.08.48-16.17,1.06-5.67.39-11.32.84A137.54,137.54,0,0,1,176.94,18.28Z" />\n            </g>\n        </g>\n    </svg>')}},72:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(755),a=new r.ElementCreator({tag:"header",className:["header"],children:[new r.ElementCreator({tag:"h1",textContent:"Retro async race"})]}),c=new r.ElementCreator({tag:"main",className:["main"],children:[new r.ElementCreator({tag:"div",className:["navigation"],children:[new r.ElementCreator({tag:"button",className:["toGarage","nav-btn"],textContent:"Garage",callback:function(){return null===(e=document.querySelector(".garage"))||void 0===e||e.classList.remove("hidden"),null===(t=document.querySelector(".panel"))||void 0===t||t.classList.remove("hidden"),void(null===(n=document.querySelector(".winners"))||void 0===n||n.classList.add("hidden"));var e,t,n}}),new r.ElementCreator({tag:"button",className:["toWinners","nav-btn"],textContent:"Winners",callback:function(){return null===(e=document.querySelector(".garage"))||void 0===e||e.classList.add("hidden"),null===(t=document.querySelector(".panel"))||void 0===t||t.classList.add("hidden"),void(null===(n=document.querySelector(".winners"))||void 0===n||n.classList.remove("hidden"));var e,t,n}}),new r.ElementCreator({tag:"article",className:["main-container"]})]})]}),i=new r.ElementCreator({tag:"footer",className:["footer"],children:[new r.ElementCreator({tag:"a",className:["gh-link"],attribute:{name:"href",value:"https://github.com/lu7623"}}),new r.ElementCreator({tag:"span",textContent:"2023"}),new r.ElementCreator({tag:"a",className:["rs-link"],attribute:{name:"href",value:"https://rs.school/js/"}})]});t.default=function(){document.body.append(a.getElement(),c.getElement(),i.getElement())}},105:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,c){function i(e){try{s(r.next(e))}catch(e){c(e)}}function o(e){try{s(r.throw(e))}catch(e){c(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}s((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,a,c,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function o(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,o[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.garageView=t.stopAnimateRace=t.animateRace=t.viewWinnerWindow=t.viewGarageCar=t.stopAnimate=t.paginationView=t.animate=void 0;var c=n(755),i=n(49),o=n(86),s=n(714),l=n(920),u=n(82),d=n(552),f=n(751),h=n(971),m=n(1),p=n(254);function v(e,t,n){var r=document.querySelector(".car".concat(e," .").concat(t));r instanceof HTMLButtonElement&&(r.disabled=!0);var a=document.querySelector(".car".concat(e," .").concat(n));a instanceof HTMLButtonElement&&(a.disabled=!1)}function g(e,t){return r(this,void 0,void 0,(function(){var n,r,c;return a(this,(function(a){switch(a.label){case 0:return(n=document.querySelector(".img".concat(String(e))))instanceof HTMLElement?(r=new KeyframeEffect(n,[{translate:"calc(100vw - 220px)"}],{duration:t,fill:"forwards"}),(c=new Animation(r,document.timeline)).play(),[4,i.API.driveCar(e,"drive")]):[3,2];case 1:if(500===a.sent().status)return c.pause(),[2,1e5];a.label=2;case 2:return[2,t]}}))}))}function w(e){return r(this,void 0,void 0,(function(){var t,n;return a(this,(function(r){switch(r.label){case 0:return e?(v(e,"a","b"),[4,i.API.startEngineCar(e,"started")]):[3,2];case 1:(null==(t=r.sent().engineCar)?void 0:t.distance)&&(null==t?void 0:t.velocity)&&(n=t.distance/t.velocity,g(e,n)),r.label=2;case 2:return[2]}}))}))}function b(){var e;return r(this,void 0,void 0,(function(){var t,n,r,c;return a(this,(function(a){switch(a.label){case 0:return t=f.currentGarage,[4,i.API.getAllCars()];case 1:for(t.cars=a.sent(),f.currentGarage.carsCount=f.currentGarage.cars.length,f.currentGarage.maxPage=Math.ceil(f.currentGarage.carsCount/7),(n=document.querySelector(".page-number"))instanceof HTMLElement&&(n.textContent="".concat(f.currentGarage.page+1)),(r=document.querySelector(".all-cars"))instanceof HTMLElement&&(r.textContent=" (".concat(f.currentGarage.carsCount,")")),null===(e=document.querySelector(".garage-container"))||void 0===e||e.replaceChildren(),c=7*f.currentGarage.page;c<7*f.currentGarage.page+7;c+=1)f.currentGarage.cars[c]&&C(f.currentGarage.cars[c]);return(0,p.paginationBtns)({maxPage:f.currentGarage.maxPage,currentPage:f.currentGarage.page},"garage"),[2]}}))}))}function y(e){return r(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return e?(i.API.startEngineCar(e,"stopped"),(t=document.querySelector(".img".concat(e)))instanceof HTMLElement&&(t.remove(),v(e,"b","a")),[4,b()]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))}function C(e){var t,n=new c.ElementCreator({tag:"div",className:["car-container","car".concat(e.id)],id:String(e.id),children:[new c.ElementCreator({tag:"button",className:["select"],textContent:"Select",callback:function(e){return(0,d.default)(e)}}),new c.ElementCreator({tag:"button",className:["remove"],textContent:"Remove",callback:function(e){return function(e){return r(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,(0,u.default)(e)];case 1:return t.sent(),[4,b()];case 2:return t.sent(),[2]}}))}))}(e)}}),new c.ElementCreator({tag:"div",className:["car"],children:[new c.ElementCreator({tag:"button",className:["a"],textContent:"A",callback:function(){return w(e.id)}}),new c.ElementCreator({tag:"button",className:["b"],textContent:"B",attribute:{name:"disabled",value:""},callback:function(){return y(e.id)}}),new c.ElementCreator({tag:"span",className:["car-name"],textContent:"".concat(e.name)}),new c.ElementCreator({tag:"div",className:["car-trace"],children:[new c.ElementCreator({tag:"div",className:["car-image","img".concat(e.id)]}),new c.ElementCreator({tag:"div",className:["flag"]})]})]})]});null===(t=document.querySelector(".garage-container"))||void 0===t||t.append(n.getElement());var i=document.querySelector(".car".concat(e.id," .car-image"));i&&e.id&&(i.innerHTML=(0,l.default)(e.id,e.color))}function E(e){var t=new c.ElementCreator({tag:"div",className:["winner-window"],callback:function(){return function(){var e=document.querySelector(".winner-window");document.body.addEventListener("click",(function(){null==e||e.remove()}))}()},children:[new c.ElementCreator({tag:"p",className:["winner-text"],textContent:"Winner is ".concat(e.carName,", time ").concat(e.time)})]});document.body.append(t.getElement())}function x(){return r(this,void 0,void 0,(function(){var e,t,n,r,c,o,s,l,u,d,m,p,v;return a(this,(function(a){switch(a.label){case 0:for(e=document.querySelectorAll("button"),d=0;d<e.length;d+=1)e[d].classList.contains("nav-btn")||(e[d].disabled=!0);return[4,i.API.getAllCars({page:f.currentGarage.page+1,limit:7})];case 1:return t=a.sent(),f.currentRace.carsCount=t.length,n=t.map((function(e){return i.API.startEngineCar(Number(e.id),"started")})),r=[],[4,Promise.all(n)];case 2:for(c=a.sent(),d=0;d<t.length;d+=1)(null==(o=c[d].engineCar)?void 0:o.distance)&&(null==o?void 0:o.velocity)&&(v=o.distance/o.velocity,r.push([t[d].id,v]));return s=r.map((function(e){return g(Number(e[0]),Number(e[1]))})),[4,Promise.all(s)];case 3:for(l=a.sent(),u=Math.min.apply(Math,l),d=0;d<t.length;d+=1)r[d][1]===u&&(m=r[d],p=m[0],v=m[1],f.currentRace.winner=p,v&&(f.currentRace.winnerTime=Number((v/1e3).toFixed(3))));return f.currentRace.results=r,(w=document.querySelector("button.reset")).disabled=!1,w.style.backgroundColor="#884A39",w.addEventListener("click",(function(){w.style.backgroundColor="#F9E0BB"})),f.currentRace.winner&&f.currentRace.winnerTime?[4,(0,h.default)(f.currentRace.winner,f.currentRace.winnerTime)]:[3,5];case 4:a.sent(),E(f.winnerList[f.currentRace.winner]),a.label=5;case 5:return[2]}var w}))}))}function M(){return r(this,void 0,void 0,(function(){var e,t,n;return a(this,(function(r){for(e=f.currentRace.results,t=document.querySelectorAll("button"),n=0;n<t.length;n+=1)t[n].disabled=!1;return e&&(e.forEach((function(e){var t=document.querySelector(".img".concat(e[0]));t instanceof HTMLElement&&t.remove()})),b()),[2]}))}))}t.animate=w,t.paginationView=b,t.stopAnimate=y,t.viewGarageCar=C,t.viewWinnerWindow=E,t.animateRace=x,t.stopAnimateRace=M;var N=new c.ElementCreator({tag:"section",className:["panel"],children:[new c.ElementCreator({tag:"div",className:["controls"],children:[new c.ElementCreator({tag:"input",attribute:{name:"type",value:"text"},className:["createName"]}),new c.ElementCreator({tag:"input",attribute:{name:"type",value:"color"},className:["createColor"]}),new c.ElementCreator({tag:"button",className:["create"],textContent:"Create",callback:function(){return function(){return r(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,(0,s.default)()];case 1:return e.sent(),b(),(0,m.default)(),[2]}}))}))}()}}),new c.ElementCreator({tag:"input",attribute:{name:"type",value:"text"},className:["upgradeName"]}),new c.ElementCreator({tag:"input",attribute:{name:"type",value:"color"},className:["upgradeColor"]}),new c.ElementCreator({tag:"button",className:["upgrade"],textContent:"Upgrade",attribute:{name:"disabled",value:"true"}})]}),new c.ElementCreator({tag:"div",className:["btn-panel"],children:[new c.ElementCreator({tag:"button",className:["race"],textContent:"Race",callback:function(){return x()}}),new c.ElementCreator({tag:"button",className:["reset"],textContent:"Reset",callback:function(){return M()}}),new c.ElementCreator({tag:"button",className:["generate"],textContent:"Generate cars",callback:function(){return function(){return r(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,(0,o.default)()];case 1:return e.sent(),b(),[2]}}))}))}()}})]})]}),S=new c.ElementCreator({tag:"section",className:["garage"],children:[new c.ElementCreator({tag:"h2",textContent:"Garage",children:[new c.ElementCreator({tag:"span",className:["all-cars"]})]}),new c.ElementCreator({tag:"h3",textContent:"Page #",children:[new c.ElementCreator({tag:"span",className:["page-number"]})]}),new c.ElementCreator({tag:"div",className:["garage-container"]}),new c.ElementCreator({tag:"button",attribute:{name:"disabled",value:""},className:["pagination","prev-garage"],textContent:"Prev",callback:function(){f.currentGarage.page>0&&(f.currentGarage.page-=1,b())}}),new c.ElementCreator({tag:"button",className:["pagination","next-garage"],textContent:"Next",callback:function(){f.currentGarage.maxPage&&(f.currentGarage.page<f.currentGarage.maxPage-1&&(f.currentGarage.page+=1),b())}})]});t.garageView=function(){return r(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return null==(e=document.querySelector(".main-container"))||e.replaceChildren(),null==e||e.append(N.getElement(),S.getElement()),[4,b()];case 1:return t.sent(),[2]}}))}))}},89:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(72),a=n(105),c=n(754);t.default=function(){(0,r.default)(),(0,a.garageView)(),(0,c.default)()}},754:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,c){function i(e){try{s(r.next(e))}catch(e){c(e)}}function o(e){try{s(r.throw(e))}catch(e){c(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}s((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,a,c,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function o(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,o[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(1),i=n(49),o=n(751),s=n(755),l=n(254),u=n(920);function d(){return r(this,void 0,void 0,(function(){var e,t,n,c,d;return a(this,(function(f){switch(f.label){case 0:return null==(e=document.querySelector(".winners-list"))||e.replaceChildren(),[4,i.API.getWinners({page:o.currentWinners.page+1,limit:10})];case 1:for((t=f.sent()).forEach((function(e){return function(e){return r(this,void 0,void 0,(function(){var t,n,r;return a(this,(function(a){return t=new s.ElementCreator({tag:"div",className:["winners-table"],children:[new s.ElementCreator({tag:"div",className:["table-line","winner-number"]}),new s.ElementCreator({tag:"div",className:["table-line","winner-car","car-image".concat(e)]}),new s.ElementCreator({tag:"div",className:["table-line","winner-name"],textContent:"".concat(o.winnerList[e].carName)}),new s.ElementCreator({tag:"div",className:["table-line","winner-wins"],textContent:"".concat(o.winnerList[e].wins)}),new s.ElementCreator({tag:"div",className:["table-line","winner-time"],textContent:"".concat(o.winnerList[e].time)})]}),null==(n=document.querySelector(".winners-list"))||n.append(t.getElement()),(r=document.querySelector(".car-image".concat(e)))&&e&&(r.innerHTML=(0,u.default)(e,o.winnerList[e].carColor)),[2]}))}))}(Number(e.id))})),n=document.querySelectorAll(".winner-number"),c=0;c<Math.min(t.length+1,11);c+=1)n[c].textContent=String(c);return(d=document.querySelector(".page-number-winners"))instanceof HTMLElement&&(d.textContent="".concat(o.currentWinners.page+1)),o.currentWinners.maxPage&&(0,l.paginationBtns)({maxPage:o.currentWinners.maxPage,currentPage:o.currentWinners.page},"winners"),[2]}}))}))}var f=new s.ElementCreator({tag:"section",className:["winners","hidden"],children:[new s.ElementCreator({tag:"h2",textContent:"Winners",children:[new s.ElementCreator({tag:"span",className:["all-winners"]})]}),new s.ElementCreator({tag:"h3",textContent:"Page #",children:[new s.ElementCreator({tag:"span",className:["page-number-winners"]})]}),new s.ElementCreator({tag:"div",className:["winners-container"],children:[new s.ElementCreator({tag:"div",className:["winners-table"],children:[new s.ElementCreator({tag:"div",className:["table-head","winner-number"]}),new s.ElementCreator({tag:"div",className:["table-head","winner-car"],textContent:"Car"}),new s.ElementCreator({tag:"div",className:["table-head","winner-name"],textContent:"Name"}),new s.ElementCreator({tag:"div",className:["table-head","winner-wins"],textContent:"Wins"}),new s.ElementCreator({tag:"div",className:["table-head","winner-time"],textContent:"Best time"})]}),new s.ElementCreator({tag:"div",className:["winners-list"]})]}),new s.ElementCreator({tag:"button",className:["prev-winners"],attribute:{name:"disabled",value:""},textContent:"Prev",callback:function(){o.currentWinners.page>0&&(o.currentWinners.page-=1,d())}}),new s.ElementCreator({tag:"button",className:["next-winners"],textContent:"Next",callback:function(){o.currentWinners.maxPage&&(o.currentWinners.page<o.currentWinners.maxPage-1&&(o.currentWinners.page+=1),d())}})]});t.default=function(){return r(this,void 0,void 0,(function(){var e,t;return a(this,(function(n){switch(n.label){case 0:return null==(e=document.querySelector(".main-container"))||e.append(f.getElement()),[4,(0,c.default)()];case 1:return n.sent(),d(),(t=document.querySelector(".all-winners"))&&(t.textContent=" (".concat(Object.keys(o.winnerList).length,")")),[2]}}))}))}}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var c=n[e]={exports:{}};return t[e].call(c.exports,c,c.exports,r),c.exports}r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e=r(89),r(474),(0,e.default)()})();